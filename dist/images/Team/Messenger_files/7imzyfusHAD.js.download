if (self.CavalryLogger) { CavalryLogger.start_js(["gAe7u"]); }

__d("WorkContentActivityTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:WorkContentActivityLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:WorkContentActivityLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:WorkContentActivityLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAdditionalData=function(a){this.$1.additional_data=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setAppContentID=function(a){this.$1.app_content_id=a;return this};c.setAppID=function(a){this.$1.app_id=a;return this};c.setAppVersion=function(a){this.$1.app_version=a;return this};c.setAssociatedPostID=function(a){this.$1.associated_post_id=a;return this};c.setAttachmentFileType=function(a){this.$1.attachment_file_type=a;return this};c.setContentID=function(a){this.$1.content_id=a;return this};c.setContentType=function(a){this.$1.content_type=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setParentContentID=function(a){this.$1.parent_content_id=a;return this};c.setParentContentType=function(a){this.$1.parent_content_type=a;return this};c.setSurfaceType=function(a){this.$1.surface_type=a;return this};c.setTargetID=function(a){this.$1.target_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={additional_data:!0,app_content_id:!0,app_id:!0,app_version:!0,associated_post_id:!0,attachment_file_type:!0,content_id:!0,content_type:!0,event:!0,parent_content_id:!0,parent_content_type:!0,surface_type:!0,target_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("FantaTypeFileUploaderFile",["immutable"],(function(a,b,c,d,e,f){"use strict";a={file:{},id:"",startTime:0,type:null,uploadedID:null};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record(a));e.exports=c}),null);
__d("MessengerDragAndDrop.react",["Bootloader","JSResource","MercuryShareAttachmentRenderLocations","MessengerEnvironment","React","lazyLoadComponent","emptyFunction","ifRequired","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=960;a=b("React").PropTypes;var h=b("lazyLoadComponent")(b("JSResource")("MercurySharePreview.react").__setRef("MessengerDragAndDrop.react"));c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){c.$4(function(b){b.removeSharePreview(a)})},c.$2=function(a,b){c.$4(function(c){c.loadedShareData(a,b)})},c.$3=function(a){c.$4(function(b){b.loadingShareData(a)})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){b("MessengerEnvironment").messengerui?b("Bootloader").loadModules(["MessengerActions"],b("emptyFunction"),"MessengerDragAndDrop.react"):b("Bootloader").loadModules(["FantaMessageActions"],b("emptyFunction"),"MessengerDragAndDrop.react")};d.shouldComponentUpdate=function(a){var b=this.props;return b.threadID!==a.threadID||!!(!b.sharePreview&&a.sharePreview)||!!(b.sharePreview&&a.sharePreview&&!b.sharePreview.equals(a.sharePreview))};d.render=function(){var a=this.props,c=a.sharePreview;a=a.threadID;c=c||{};var d=c.share;c=c.uri;return d||c?b("React").createElement("div",{className:"fbNubFlyoutAttachments"},b("React").createElement("div",{className:"chatAttachmentShelf"},b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",null)},b("React").createElement(h,{onClose:this.$1,onLoaded:this.$2,onLoading:this.$3,threadID:a,imageSize:{width:g,height:g},location:b("MercuryShareAttachmentRenderLocations").CHAT_PREVIEW,share:d,uri:c})))):null};d.$4=function(a){__p&&__p();var c=this;b("setImmediate")(function(){typeof c.props.onResize==="function"&&c.props.onResize()});b("MessengerEnvironment").messengerui?b("ifRequired")("MessengerActions",function(b){a(b)},function(){b("Bootloader").loadModules(["MessengerActions"],function(b){a(b)},"MessengerDragAndDrop.react")}):b("ifRequired")("FantaMessageActions",function(b){a(b)},function(){b("Bootloader").loadModules(["FantaMessageActions"],function(b){a(b)},"MessengerDragAndDrop.react")})};return c}(b("React").Component);c.propTypes={threadID:a.string.isRequired};e.exports=c}),null);
__d("MessengerInfoPanelGroupLinkContainerReact.bs",["fbt","ReasonReact.bs","bs_js_primitive","MessengerGroupLinkSectionReact.bs","MessengerInfoPanelSectionReact.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){a.preventDefault();return 0}var h=b("ReasonReact.bs").statelessComponent("MessengerInfoPanelGroupLinkContainerReact");function i(a,c,d,e,f){return[h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],function(){var f=d.joinable_link;if(!(f==null)&&f!=="")return b("ReasonReact.bs").element(void 0,void 0,b("MessengerInfoPanelSectionReact.bs").make(b("bs_js_primitive").nullable_to_opt(d.solid_color),!0,a,c,g._("Group link"),[b("ReasonReact.bs").element(void 0,void 0,b("MessengerGroupLinkSectionReact.bs").make(f,e,d.thread_id,[]))]));else return null},h[9],h[10],h[11],h[12]]}c=b("ReasonReact.bs").wrapReasonForJs(h,function(a){return i(a.isCollapsed,a.onToggle,a.thread,a.viewer,[])});f.preventDefault=a;f.component=h;f.make=i;f.jsComponent=c}),null);
__d("messengerInfoPanelGroupLinkContainerReactComponent",["MessengerInfoPanelGroupLinkContainerReact.bs"],(function(a,b,c,d,e,f){"use strict";a=b("MessengerInfoPanelGroupLinkContainerReact.bs").jsComponent;e.exports=a}),null);
__d("MessengerUserControlsButtonReact.bs",["ix","fbt","Image.bs","LinkReact.bs","MercuryIDs","ReasonReact.bs","MessengerDialogs.bs","MessengerMenuReact.bs","MessengerPageUtils.bs","MercuryThreadActions","MessengerMuteDialogReact.bs","MessengerPopoverMenuReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=h._("Mute notifications"),j=h._("Unmute notifications"),k=h._("Turn off messages"),l=h._("Turn on messages"),m=g("464335"),n=g("464334"),o=b("ReasonReact.bs").statelessComponent("MessengerUserControlsButton");function a(a,c,d,e,f,g,h){__p&&__p();var p=function(){if(d){b("MercuryThreadActions").getForFBID(g).unblockOnMessengerDotCom(f);return b("MessengerPageUtils.bs").changeBlockedStatus(!1,b("MercuryIDs").getParticipantIDFromUserID(e),g)}else{b("MercuryThreadActions").getForFBID(g).blockOnMessengerDotCom(f);return b("MessengerPageUtils.bs").changeBlockedStatus(!0,b("MercuryIDs").getParticipantIDFromUserID(e),g)}},q=function(a){b("MercuryThreadActions").getForFBID(g).updateMuteSetting(f,a);return 0},r=function(){if(c){b("MercuryThreadActions").getForFBID(g).unmute(f);return 0}else return b("MessengerDialogs.bs").showDialog(function(){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerMuteDialogReact.bs").make(q,[]))})};return[o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],function(){var e=c?j:i;e=b("ReasonReact.bs").element(void 0,void 0,b("MessengerMenuReact.bs").MenuItem[0](void 0,e,r,void 0,[]));var f=d?l:k;f=b("ReasonReact.bs").element(void 0,void 0,b("MessengerMenuReact.bs").MenuItem[0](void 0,f,p,void 0,[]));e=b("ReasonReact.bs").element(void 0,void 0,b("MessengerMenuReact.bs").Menu[0]([e,f]));f=d?n:m;return b("ReasonReact.bs").element(void 0,void 0,b("MessengerPopoverMenuReact.bs").make(a,void 0,void 0,e,void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("LinkReact.bs").make(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,void 0,void 0,void 0,f,32,void 0,40,void 0,[]))]))]))},o[9],o[10],o[11],o[12]]}f.mute=i;f.unmute=j;f.block=k;f.unblock=l;f.unblocked_button_image_path=m;f.blocked_button_image_path=n;f.component=o;f.make=a}),null);
__d("BootloadableMessengerUserControlsButtonReact.bs",["MessengerUserControlsButtonReact.bs"],(function(a,b,c,d,e,f){"use strict";a=[b("MessengerUserControlsButtonReact.bs").mute,b("MessengerUserControlsButtonReact.bs").unmute,b("MessengerUserControlsButtonReact.bs").block,b("MessengerUserControlsButtonReact.bs").unblock,b("MessengerUserControlsButtonReact.bs").unblocked_button_image_path,b("MessengerUserControlsButtonReact.bs").blocked_button_image_path,b("MessengerUserControlsButtonReact.bs").component,b("MessengerUserControlsButtonReact.bs").make];f.bootloadable=a}),null);
__d("MessengerSharePreviewStore",["FantaTypeSharePreview","MessengerActions","MessengerStore","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.$MessengerSharePreviewStore1=b("immutable").Map({});return c}var d=c.prototype;d.getState=function(){return this.$MessengerSharePreviewStore1};d.__onDispatch=function(a){__p&&__p();var c=a.threadID;switch(a.type){case b("MessengerActions").Types.LINK_PREVIEW:var d=a.match;this.$MessengerSharePreviewStore1=this.$MessengerSharePreviewStore1.withMutations(function(a){a.get(c)||a.set(c,new(b("FantaTypeSharePreview"))());var e=a.get(c);a.set(c,e.merge({params:null,type:null,uri:d}))});this.emitChange();break;case b("MessengerActions").Types.LOADING_SHARE_DATA:this.$MessengerSharePreviewStore1=this.$MessengerSharePreviewStore1.withMutations(function(a){var b=a.get(c);if(!b)return;a.set(c,b.merge({isLoading:!0,params:null,type:null}))});this.emitChange();break;case b("MessengerActions").Types.LOADED_SHARE_DATA:a=a.attachmentData;var e=a.share_data;this.$MessengerSharePreviewStore1=this.$MessengerSharePreviewStore1.withMutations(function(a){var d=a.get(c);if(!d)return;a.set(c,d.merge({isLoading:!1,params:b("immutable").Map({data:e.share_params}),type:e.share_type}))});this.emitChange();break;case b("MessengerActions").Types.REMOVE_SHARE_PREVIEW:this.$MessengerSharePreviewStore1=this.$MessengerSharePreviewStore1.withMutations(function(a){a.get(c)&&a.set(c,new(b("FantaTypeSharePreview"))())});this.emitChange();break}};return c}(b("MessengerStore"));e.exports=new a()}),null);
__d("WorkContentActivityEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CLICK_FILE_DOWNLOAD:"CLICK_FILE_DOWNLOAD",CLICK_FILE_PREVIEW:"CLICK_FILE_PREVIEW",CLICK_FILE_IMAGE:"CLICK_FILE_IMAGE",CLICK_FILE_TITLE:"CLICK_FILE_TITLE",CLICK_VIEW_POST:"CLICK_VIEW_POST",CLICK_SEE_ALL:"CLICK_SEE_ALL",CLICK_FILE_CARD:"CLICK_FILE_CARD",SELECT_FILE_TOO_BIG:"SELECT_FILE_TOO_BIG",UPLOAD_FILE:"UPLOAD_FILE",UPLOAD_FILE_REVISION:"UPLOAD_FILE_REVISION",CHAT_FILE_UPLOAD:"CHAT_FILE_UPLOAD",ADD_FILE_SELECTED:"ADD_FILE_SELECTED",ADD_FILE_FAIL:"ADD_FILE_FAIL",ADD_FILE_SUCCESS:"ADD_FILE_SUCCESS",ENTER_LINKED_FOLDER:"ENTER_LINKED_FOLDER",EXTERNAL_OPEN_LINKED_FOLDER:"EXTERNAL_OPEN_LINKED_FOLDER",CLICK_FOLDER_FILE:"CLICK_FOLDER_FILE"})}),null);
__d("WorkContentActivitySurface",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GROUP_FEED:"GROUP_FEED",NEWS_FEED:"NEWS_FEED",RHC:"RHC",FILES_TAB:"FILES_TAB",FILES_COMPOSER:"FILES_COMPOSER",STATUS_COMPOSER:"STATUS_COMPOSER",EDIT_COMPOSER:"EDIT_COMPOSER",CHAT_MAIN:"CHAT_MAIN",CHAT_TAB:"CHAT_TAB"})}),null);
__d("ChatFileUploadLoggingUtils",["CurrentUser","WorkContentActivityEvent","WorkContentActivitySurface","WorkContentActivityTypedLogger"],(function(a,b,c,d,e,f){"use strict";a={log:function(a,c){c===void 0&&(c=b("WorkContentActivitySurface").CHAT_MAIN),b("CurrentUser").isWorkUser()&&new(b("WorkContentActivityTypedLogger"))().setSurfaceType(c).setEvent(b("WorkContentActivityEvent").CHAT_FILE_UPLOAD).setAdditionalData({file_size:a.size.toString(),file_type:a.type}).log()}};e.exports=a}),null);
__d("MessengerUploadFilesStore",["fbt","ChatFileUploadLoggingUtils","Dialog","FantaTypeFileUploader","FantaTypeFileUploaderFile","FBLogger","LogHistory","MercuryConstants","MessengerActions","MessengerStore","PhotosUploadID","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("LogHistory").getInstance("messenger_share_file_preview");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.$MessengerUploadFilesStore1=b("immutable").Map({});return c}var d=c.prototype;d.getState=function(){return this.$MessengerUploadFilesStore1};d.__onDispatch=function(a){__p&&__p();var c,d=a.threadID,e=a.uploadID;switch(a.type){case b("MessengerActions").Types.PREPARE_FILES_FOR_SEND:h.log("Add files "+d,JSON.stringify(a));var f=a.files;this.$MessengerUploadFilesStore1=i(this.$MessengerUploadFilesStore1,d,f);this.emitChange();break;case b("MessengerActions").Types.CANCEL_FILE_UPLOAD:h.debug("Remove file "+d,JSON.stringify(a));f=this.$MessengerUploadFilesStore1.get(d);c=f.get("uploadingFiles").get(e);c?this.$MessengerUploadFilesStore1=this.$MessengerUploadFilesStore1.deleteIn([d,"uploadingFiles",e]):(c=f.get("uploadedFiles").get(e),c&&(this.$MessengerUploadFilesStore1=this.$MessengerUploadFilesStore1.deleteIn([d,"uploadedFiles",e])));this.emitChange();break;case b("MessengerActions").Types.EMPTY_FILES:h.debug("Empty files "+d,JSON.stringify(a));this.$MessengerUploadFilesStore1=this.$MessengerUploadFilesStore1.withMutations(function(a){a.get(d)&&a.set(d,new(b("FantaTypeFileUploader"))())});this.emitChange();break}};return c}(b("MessengerStore"));function i(a,c,d){__p&&__p();for(var e=0;e<d.length;e++){var f=d[e];b("ChatFileUploadLoggingUtils").log(f);if(f.size>b("MercuryConstants").AttachmentMaxSize){new(b("Dialog"))().setTitle(g._("The file you have selected is too large")).setBody(g._("The file you have selected is too large. The maximum size is 25MB.")).setButtons(b("Dialog").OK).setSemiModal(!0).show();b("FBLogger")("messenger_upload_file").warn("Uploading file is too large");return a}}for(var f=0;f<d.length;f++){e=d[f];var h=k();a=j(a,c,h,e)}return a}function j(a,c,d,e){return a.withMutations(function(a){a.get(c)||a.set(c,new(b("FantaTypeFileUploader"))());var f=a.get(c);a.set(c,f.setIn(["uploadedFiles",d],new(b("FantaTypeFileUploaderFile"))({file:e,id:d,startTime:Date.now()})))})}function k(){return"upload_"+b("PhotosUploadID").getNewID()}e.exports=new a()}),null);
__d("MessengerSecondarySearchFunnelLogger",["FunnelLogger","MercuryConfig","MessengerSecondarySearchFunnelConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MessengerSecondarySearchFunnelConstants").FUNNEL_NAME,h=b("MessengerSecondarySearchFunnelConstants").ENTRY_SURFACES,i=b("MessengerSecondarySearchFunnelConstants").EVENTS,j=b("MessengerSecondarySearchFunnelConstants").SEARCH_SURFACES,k=b("MessengerSecondarySearchFunnelConstants").MICRO_SESSION_TYPES,l=b("MessengerSecondarySearchFunnelConstants").END_ACTIONS,m=new Map(),n=new Map(),o=new Map(),p=new Map(),q=0;function a(a,c,d,e,f){if(!f)return;b("FunnelLogger").startFunnel(g,f);b("FunnelLogger").setFunnelTimeout(g,86400);o.set(f.toString(),c);b("FunnelLogger").appendActionWithPayloadIfNew(g,f,i.START,{search_surface:c,entry_surface:d,thread_fbid:e,client:a});(b("MercuryConfig").ChatComposer||c!==j.OMNIPICKER)&&v(f)}function c(a,c,d,e,f){if(!d)return;var h=n.get(d.toString()),j=m.get(d.toString());j=j?k.QUERY:k.NO_QUERY;h!==null&&(w(d,j),o["delete"](d.toString()));b("FunnelLogger").appendActionWithPayloadIfNew(g,d,i.END,{end_reason:a,action_name:c,thread_fbid:e,is_new_thread:f});b("FunnelLogger").endFunnel(g,d)}function d(a,c){if(!c)return;var d=c.toString(),e=m.get(d),f=o.get(d);!e&&!!a?((b("MercuryConfig").ChatComposer||f===j.BROADCAST||f===j.GROUP_CREATION||f===h.COMPOSER)&&w(c,k.NO_QUERY),v(c)):e&&a===""&&e!==""&&(w(c,k.QUERY),(b("MercuryConfig").ChatComposer||f===j.BROADCAST||f===j.GROUP_CREATION||f===h.COMPOSER)&&v(c));m.set(d,a);b("FunnelLogger").appendActionWithPayload(g,c,i.QUERY_CHANGED,{query_string:a})}function f(a,c,d,e,f,h,l,q){if(!l)return;var r=l.toString(),s=o.get(r),t=n.get(r);p.set(t,!0);b("FunnelLogger").appendActionWithPayload(g,l,i.RESULT_SELECTED,{query_string:e,result_fbid:a,result_type:d,result_index:c,data_source:[f],search_surface:h,micro_session_id:t,selection_type:q});s===j.OMNIPICKER?(w(l,k.QUERY),b("MercuryConfig").ChatComposer?(m.set(r,""),v(l)):m["delete"](r)):e&&s===j.GROUP_CREATION&&(m.set(r,""),w(l,k.QUERY),v(l))}function r(a,c,d){if(!d)return;b("FunnelLogger").appendActionWithPayload(g,d,i.SOURCE_STARTED,{query_string:a,data_source:[c]})}function s(a,c,d,e,f,h){if(!h)return;b("FunnelLogger").appendActionWithPayload(g,h,i.SOURCE_ENDED,{query_string:a,results_count:c,data_source:[d],status:e,result_used:f})}function t(a,c,d,e){if(!e)return;if(c.length===0)return;b("FunnelLogger").appendActionWithPayload(g,e,i.IMPRESSIONS,{query_string:a,impression_list:c})}function u(a,c,d){if(!d)return;b("FunnelLogger").appendActionWithPayload(g,d,i.TOKEN_REMOVED,{deleted_result_id:a,cleared_all_tokens:c})}function v(a){b("FunnelLogger").appendActionWithPayload(g,a,i.MICRO_SESSION_STARTED,{micro_session_id:q}),n.set(a.toString(),q),p.set(q,!1),q+=1}function w(a,c){var d=n.get(a.toString());b("FunnelLogger").appendActionWithPayload(g,a,i.MICRO_SESSION_ENDED,{micro_session_id:d,micro_session_end_reason:p.get(d)?l.RESULT_SELECTED:l.ABANDON,micro_session_type:c});p["delete"](d);n["delete"](a.toString())}function x(a){b("FunnelLogger").appendAction(g,a,i.REENTER_OMNIPICKER)}function y(a){b("FunnelLogger").appendAction(g,a,i.CLICK_OTHER_THREAD)}e.exports={endFunnel:c,impressions:t,queryChanged:d,reenterSearch:x,resultSelected:f,sourceEnded:s,sourceStarted:r,startFunnel:a,tokenRemoved:u,unfocusSearch:y}}),null);